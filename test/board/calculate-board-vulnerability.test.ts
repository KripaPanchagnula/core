import { Board, Types } from '../../src';
import { Vulnerability } from '../../src/types';

describe('Testing Board.calculateBoardVulnerability', () => {
	it('Love all boards', () => {
		const boardNumbers = [1, 8, 11, 14];
		for (const board of boardNumbers) {
			expect(Board.calculateBoardVulnerability(board)).toStrictEqual(
				Vulnerability.NvNv
			);
		}
	});
	it('NS Vul boards', () => {
		const boardNumbers = [2, 5, 12, 15];
		for (const board of boardNumbers) {
			expect(Board.calculateBoardVulnerability(board)).toStrictEqual(
				Vulnerability.VNv
			);
		}
	});
	it('EW Vul boards', () => {
		const boardNumbers = [3, 6, 9, 16];
		for (const board of boardNumbers) {
			expect(Board.calculateBoardVulnerability(board)).toStrictEqual(
				Vulnerability.NvV
			);
		}
	});
	it('Game all boards', () => {
		const boardNumbers = [4, 7, 10, 13];
		for (const board of boardNumbers) {
			expect(Board.calculateBoardVulnerability(board)).toStrictEqual(
				Vulnerability.VV
			);
		}
	});
});

describe('Testing Board.isPlayerVulnerable', () => {
	it('Love all boards', () => {
		const boardNumbers = [1, 8, 11, 14];
		for (const board of boardNumbers) {
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.North)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.South)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.East)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.West)
			).toBeFalsy();
		}
	});
	it('NS Vul boards', () => {
		const boardNumbers = [2, 5, 12, 15];
		for (const board of boardNumbers) {
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.North)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.South)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.East)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.West)
			).toBeFalsy();
		}
	});
	it('EW Vul boards', () => {
		const boardNumbers = [3, 6, 9, 16];
		for (const board of boardNumbers) {
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.North)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.South)
			).toBeFalsy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.East)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.West)
			).toBeTruthy();
		}
	});
	it('Game all boards', () => {
		const boardNumbers = [4, 7, 10, 13];
		for (const board of boardNumbers) {
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.North)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.South)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.East)
			).toBeTruthy();
			expect(
				Board.isPlayerVulnerable(board, Types.Compass.West)
			).toBeTruthy();
		}
	});
});
